function N(){}function Ee(e,t){for(const n in t)e[n]=t[n];return e}function Yt(e){return e()}function Nt(){return Object.create(null)}function q(e){e.forEach(Yt)}function Te(e){return typeof e=="function"}function Ie(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function di(e,t){return e!=e?t==t:e!==t}function De(e){return Object.keys(e).length===0}function Me(e,...t){if(e==null)return N;const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function pi(e,t,n){e.$$.on_destroy.push(Me(t,n))}function hi(e,t,n,i){if(e){const o=Lt(e,t,n,i);return e[0](o)}}function Lt(e,t,n,i){return e[1]&&i?Ee(n.ctx.slice(),e[1](i(t))):n.ctx}function mi(e,t,n,i){if(e[2]&&i){const o=e[2](i(n));if(t.dirty===void 0)return o;if(typeof o=="object"){const s=[],r=Math.max(t.dirty.length,o.length);for(let a=0;a<r;a+=1)s[a]=t.dirty[a]|o[a];return s}return t.dirty|o}return t.dirty}function gi(e,t,n,i,o,s){if(o){const r=Lt(t,n,i,s);e.p(r,o)}}function vi(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let i=0;i<n;i++)t[i]=-1;return t}return-1}let V=!1;function $e(){V=!0}function Oe(){V=!1}function Ae(e,t,n,i){for(;e<t;){const o=e+(t-e>>1);n(o)<=i?e=o+1:t=o}return e}function ke(e){if(e.hydrate_init)return;e.hydrate_init=!0;let t=e.childNodes;if(e.nodeName==="HEAD"){const c=[];for(let l=0;l<t.length;l++){const d=t[l];d.claim_order!==void 0&&c.push(d)}t=c}const n=new Int32Array(t.length+1),i=new Int32Array(t.length);n[0]=-1;let o=0;for(let c=0;c<t.length;c++){const l=t[c].claim_order,d=(o>0&&t[n[o]].claim_order<=l?o+1:Ae(1,o,p=>t[n[p]].claim_order,l))-1;i[c]=n[d]+1;const f=d+1;n[f]=c,o=Math.max(f,o)}const s=[],r=[];let a=t.length-1;for(let c=n[o]+1;c!=0;c=i[c-1]){for(s.push(t[c-1]);a>=c;a--)r.push(t[a]);a--}for(;a>=0;a--)r.push(t[a]);s.reverse(),r.sort((c,l)=>c.claim_order-l.claim_order);for(let c=0,l=0;c<r.length;c++){for(;l<s.length&&r[c].claim_order>=s[l].claim_order;)l++;const d=l<s.length?s[l]:null;e.insertBefore(r[c],d)}}function Re(e,t){if(V){for(ke(e),(e.actual_end_child===void 0||e.actual_end_child!==null&&e.actual_end_child.parentElement!==e)&&(e.actual_end_child=e.firstChild);e.actual_end_child!==null&&e.actual_end_child.claim_order===void 0;)e.actual_end_child=e.actual_end_child.nextSibling;t!==e.actual_end_child?(t.claim_order!==void 0||t.parentNode!==e)&&e.insertBefore(t,e.actual_end_child):e.actual_end_child=t.nextSibling}else(t.parentNode!==e||t.nextSibling!==null)&&e.appendChild(t)}function xi(e,t,n){V&&!n?Re(e,t):(t.parentNode!==e||t.nextSibling!=n)&&e.insertBefore(t,n||null)}function Ce(e){e.parentNode.removeChild(e)}function je(e){return document.createElement(e)}function lt(e){return document.createTextNode(e)}function _i(){return lt(" ")}function yi(){return lt("")}function bi(e,t,n,i){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n,i)}function wi(e){return function(t){return t.preventDefault(),e.call(this,t)}}function zi(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function Xe(e){return Array.from(e.childNodes)}function Ye(e){e.claim_info===void 0&&(e.claim_info={last_index:0,total_claimed:0})}function Ft(e,t,n,i,o=!1){Ye(e);const s=(()=>{for(let r=e.claim_info.last_index;r<e.length;r++){const a=e[r];if(t(a)){const c=n(a);return c===void 0?e.splice(r,1):e[r]=c,o||(e.claim_info.last_index=r),a}}for(let r=e.claim_info.last_index-1;r>=0;r--){const a=e[r];if(t(a)){const c=n(a);return c===void 0?e.splice(r,1):e[r]=c,o?c===void 0&&e.claim_info.last_index--:e.claim_info.last_index=r,a}}return i()})();return s.claim_order=e.claim_info.total_claimed,e.claim_info.total_claimed+=1,s}function Ne(e,t,n,i){return Ft(e,o=>o.nodeName===t,o=>{const s=[];for(let r=0;r<o.attributes.length;r++){const a=o.attributes[r];n[a.name]||s.push(a.name)}s.forEach(r=>o.removeAttribute(r))},()=>i(t))}function Pi(e,t,n){return Ne(e,t,n,je)}function Le(e,t){return Ft(e,n=>n.nodeType===3,n=>{const i=""+t;if(n.data.startsWith(i)){if(n.data.length!==i.length)return n.splitText(i.length)}else n.data=i},()=>lt(t),!0)}function Si(e){return Le(e," ")}function Ei(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function Ti(e,t){e.value=t==null?"":t}let H;function J(e){H=e}function ut(){if(!H)throw new Error("Function called outside component initialization");return H}function Ii(e){ut().$$.on_mount.push(e)}function Di(e){ut().$$.after_update.push(e)}function Mi(e,t){ut().$$.context.set(e,t)}const G=[],qt=[],Z=[],Gt=[],Fe=Promise.resolve();let ft=!1;function qe(){ft||(ft=!0,Fe.then(Bt))}function dt(e){Z.push(e)}let pt=!1;const ht=new Set;function Bt(){if(!pt){pt=!0;do{for(let e=0;e<G.length;e+=1){const t=G[e];J(t),Ge(t.$$)}for(J(null),G.length=0;qt.length;)qt.pop()();for(let e=0;e<Z.length;e+=1){const t=Z[e];ht.has(t)||(ht.add(t),t())}Z.length=0}while(G.length);for(;Gt.length;)Gt.pop()();ft=!1,pt=!1,ht.clear()}}function Ge(e){if(e.fragment!==null){e.update(),q(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(dt)}}const Q=new Set;let k;function $i(){k={r:0,c:[],p:k}}function Oi(){k.r||q(k.c),k=k.p}function Be(e,t){e&&e.i&&(Q.delete(e),e.i(t))}function Ai(e,t,n,i){if(e&&e.o){if(Q.has(e))return;Q.add(e),k.c.push(()=>{Q.delete(e),i&&(n&&e.d(1),i())}),e.o(t)}}function ki(e,t){const n={},i={},o={$$scope:1};let s=e.length;for(;s--;){const r=e[s],a=t[s];if(a){for(const c in r)c in a||(i[c]=1);for(const c in a)o[c]||(n[c]=a[c],o[c]=1);e[s]=a}else for(const c in r)o[c]=1}for(const r in i)r in n||(n[r]=void 0);return n}function Ri(e){return typeof e=="object"&&e!==null?e:{}}function Ci(e){e&&e.c()}function ji(e,t){e&&e.l(t)}function Ue(e,t,n,i){const{fragment:o,on_mount:s,on_destroy:r,after_update:a}=e.$$;o&&o.m(t,n),i||dt(()=>{const c=s.map(Yt).filter(Te);r?r.push(...c):q(c),e.$$.on_mount=[]}),a.forEach(dt)}function Ke(e,t){const n=e.$$;n.fragment!==null&&(q(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function We(e,t){e.$$.dirty[0]===-1&&(G.push(e),qe(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Xi(e,t,n,i,o,s,r,a=[-1]){const c=H;J(e);const l=e.$$={fragment:null,ctx:null,props:s,update:N,not_equal:o,bound:Nt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(c?c.$$.context:[])),callbacks:Nt(),dirty:a,skip_bound:!1,root:t.target||c.$$.root};r&&r(l.root);let d=!1;if(l.ctx=n?n(e,t.props||{},(f,p,...h)=>{const m=h.length?h[0]:p;return l.ctx&&o(l.ctx[f],l.ctx[f]=m)&&(!l.skip_bound&&l.bound[f]&&l.bound[f](m),d&&We(e,f)),p}):[],l.update(),d=!0,q(l.before_update),l.fragment=i?i(l.ctx):!1,t.target){if(t.hydrate){$e();const f=Xe(t.target);l.fragment&&l.fragment.l(f),f.forEach(Ce)}else l.fragment&&l.fragment.c();t.intro&&Be(e.$$.fragment),Ue(e,t.target,t.anchor,t.customElement),Oe(),Bt()}J(c)}class Yi{$destroy(){Ke(this,1),this.$destroy=N}$on(t,n){const i=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return i.push(n),()=>{const o=i.indexOf(n);o!==-1&&i.splice(o,1)}}$set(t){this.$$set&&!De(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const L=[];function Ni(e,t=N){let n;const i=new Set;function o(a){if(Ie(e,a)&&(e=a,n)){const c=!L.length;for(const l of i)l[1](),L.push(l,e);if(c){for(let l=0;l<L.length;l+=2)L[l][0](L[l+1]);L.length=0}}}function s(a){o(a(e))}function r(a,c=N){const l=[a,c];return i.add(l),i.size===1&&(n=t(o)||N),a(e),()=>{i.delete(l),i.size===0&&(n(),n=null)}}return{set:o,update:s,subscribe:r}}const P={init:Ve,document:null,DocumentFragment:null,SVGElement:null,SVGSVGElement:null,SVGElementInstance:null,Element:null,HTMLElement:null,Event:null,Touch:null,PointerEvent:null};function F(){}var b=P;function Ve(e){const t=e;P.document=t.document,P.DocumentFragment=t.DocumentFragment||F,P.SVGElement=t.SVGElement||F,P.SVGSVGElement=t.SVGSVGElement||F,P.SVGElementInstance=t.SVGElementInstance||F,P.Element=t.Element||F,P.HTMLElement=t.HTMLElement||P.Element,P.Event=t.Event,P.Touch=t.Touch||F,P.PointerEvent=t.PointerEvent||t.MSPointerEvent}var Ut=e=>!!(e&&e.Window)&&e instanceof e.Window;let Kt,R;function Wt(e){Kt=e;const t=e.document.createTextNode("");t.ownerDocument!==e.document&&typeof e.wrap=="function"&&e.wrap(t)===t&&(e=e.wrap(e)),R=e}typeof window!="undefined"&&!!window&&Wt(window);function $(e){return Ut(e)?e:(e.ownerDocument||e).defaultView||R.window}const He=e=>e===R||Ut(e),Je=e=>tt(e)&&e.nodeType===11,tt=e=>!!e&&typeof e=="object",Vt=e=>typeof e=="function",Ze=e=>typeof e=="number",Qe=e=>typeof e=="boolean",tn=e=>typeof e=="string",en=e=>{if(!e||typeof e!="object")return!1;const t=$(e)||R;return/object|function/.test(typeof t.Element)?e instanceof t.Element:e.nodeType===1&&typeof e.nodeName=="string"},nn=e=>tt(e)&&!!e.constructor&&/function Object\b/.test(e.constructor.toString()),on=e=>tt(e)&&typeof e.length!="undefined"&&Vt(e.splice);var u={window:He,docFrag:Je,object:tt,func:Vt,number:Ze,bool:Qe,string:tn,element:en,plainObject:nn,array:on};const S={init:sn,supportsTouch:null,supportsPointerEvent:null,isIOS7:null,isIOS:null,isIe9:null,isOperaMobile:null,prefixedMatchesSelector:null,pEventTypes:null,wheelEvent:null};function sn(e){const t=b.Element,n=e.navigator||{};S.supportsTouch="ontouchstart"in e||u.func(e.DocumentTouch)&&b.document instanceof e.DocumentTouch,S.supportsPointerEvent=n.pointerEnabled!==!1&&!!b.PointerEvent,S.isIOS=/iP(hone|od|ad)/.test(n.platform),S.isIOS7=/iP(hone|od|ad)/.test(n.platform)&&/OS 7[^\d]/.test(n.appVersion),S.isIe9=/MSIE 9/.test(n.userAgent),S.isOperaMobile=n.appName==="Opera"&&S.supportsTouch&&/Presto/.test(n.userAgent),S.prefixedMatchesSelector="matches"in t.prototype?"matches":"webkitMatchesSelector"in t.prototype?"webkitMatchesSelector":"mozMatchesSelector"in t.prototype?"mozMatchesSelector":"oMatchesSelector"in t.prototype?"oMatchesSelector":"msMatchesSelector",S.pEventTypes=S.supportsPointerEvent?b.PointerEvent===e.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"}:null,S.wheelEvent=b.document&&"onmousewheel"in b.document?"mousewheel":"wheel"}var E=S;const rn=(e,t)=>e.indexOf(t)!==-1,Ht=(e,t)=>{for(const n of t)e.push(n);return e},Jt=e=>Ht([],e),B=(e,t)=>{for(let n=0;n<e.length;n++)if(t(e[n],n,e))return n;return-1},mt=(e,t)=>e[B(e,t)];function et(e){const t={};for(const n in e){const i=e[n];u.plainObject(i)?t[n]=et(i):u.array(i)?t[n]=Jt(i):t[n]=i}return t}function x(e,t){for(const i in t)e[i]=t[i];return e}let Zt=0,I,C;function cn(e){if(I=e.requestAnimationFrame,C=e.cancelAnimationFrame,!I){const t=["ms","moz","webkit","o"];for(const n of t)I=e[`${n}RequestAnimationFrame`],C=e[`${n}CancelAnimationFrame`]||e[`${n}CancelRequestAnimationFrame`]}I=I&&I.bind(e),C=C&&C.bind(e),I||(I=t=>{const n=Date.now(),i=Math.max(0,16-(n-Zt)),o=e.setTimeout(()=>{t(n+i)},i);return Zt=n+i,o},C=t=>clearTimeout(t))}var an={request:e=>I(e),cancel:e=>C(e),init:cn};function j(e,t,n){if(n=n||{},u.string(e)&&e.search(" ")!==-1&&(e=Qt(e)),u.array(e))return e.reduce((i,o)=>x(i,j(o,t,n)),n);if(u.object(e)&&(t=e,e=""),u.func(t))n[e]=n[e]||[],n[e].push(t);else if(u.array(t))for(const i of t)j(e,i,n);else if(u.object(t))for(const i in t){const o=Qt(i).map(s=>`${e}${s}`);j(o,t[i],n)}return n}function Qt(e){return e.trim().split(/ +/)}function te(e,t){for(const n of t){if(e.immediatePropagationStopped)break;n(e)}}class ee{constructor(t){this.options=void 0,this.types={},this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.global=void 0,this.options=x({},t||{})}fire(t){let n;const i=this.global;(n=this.types[t.type])&&te(t,n),!t.propagationStopped&&i&&(n=i[t.type])&&te(t,n)}on(t,n){const i=j(t,n);for(t in i)this.types[t]=Ht(this.types[t]||[],i[t])}off(t,n){const i=j(t,n);for(t in i){const o=this.types[t];if(!(!o||!o.length))for(const s of i[t]){const r=o.indexOf(s);r!==-1&&o.splice(r,1)}}}getRect(t){return null}}function X(e,t){if(e.contains)return e.contains(t);for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function ne(e,t){for(;u.element(e);){if(O(e,t))return e;e=U(e)}return null}function U(e){let t=e.parentNode;if(u.docFrag(t)){for(;(t=t.host)&&u.docFrag(t););return t}return t}function O(e,t){return R!==Kt&&(t=t.replace(/\/deep\//g," ")),e[E.prefixedMatchesSelector](t)}const gt=e=>e.parentNode||e.host;function ln(e){let t=[],n;for(let i=0;i<e.length;i++){const o=e[i],s=e[n];if(!o||i===n)continue;if(!s){n=i;continue}const r=gt(o),a=gt(s);if(r===o.ownerDocument)continue;if(a===o.ownerDocument){n=i;continue}if(r===a){un(o,s)&&(n=i);continue}t=t.length?t:ie(s);let c;if(s instanceof b.HTMLElement&&o instanceof b.SVGElement&&!(o instanceof b.SVGSVGElement)){if(o===a)continue;c=o.ownerSVGElement}else c=o;const l=ie(c,s.ownerDocument);let d=0;for(;l[d]&&l[d]===t[d];)d++;const f=[l[d-1],l[d],t[d]];if(f[0]){let p=f[0].lastChild;for(;p;){if(p===f[1]){n=i,t=l;break}else if(p===f[2])break;p=p.previousSibling}}}return n}function ie(e,t){const n=[];let i=e,o;for(;(o=gt(i))&&i!==t&&o!==i.ownerDocument;)n.unshift(i),i=o;return n}function un(e,t){const n=parseInt($(e).getComputedStyle(e).zIndex,10)||0,i=parseInt($(t).getComputedStyle(t).zIndex,10)||0;return n>=i}function vt(e,t,n){for(;u.element(e);){if(O(e,t))return!0;if(e=U(e),e===n)return O(e,t)}return!1}function oe(e){return e.correspondingUseElement||e}function fn(e){return e=e||R,{x:e.scrollX||e.document.documentElement.scrollLeft,y:e.scrollY||e.document.documentElement.scrollTop}}function se(e){const t=e instanceof b.SVGElement?e.getBoundingClientRect():e.getClientRects()[0];return t&&{left:t.left,right:t.right,top:t.top,bottom:t.bottom,width:t.width||t.right-t.left,height:t.height||t.bottom-t.top}}function xt(e){const t=se(e);if(!E.isIOS7&&t){const n=fn($(e));t.left+=n.x,t.right+=n.x,t.top+=n.y,t.bottom+=n.y}return t}function re(e){return u.string(e)?(b.document.querySelector(e),!0):!1}function dn(e,t,n){return e==="parent"?U(n):e==="self"?t.getRect(n):ne(n,e)}function pn(e,t,n,i){let o=e;return u.string(o)?o=dn(o,t,n):u.func(o)&&(o=o(...i)),u.element(o)&&(o=xt(o)),o}function hn(e){return e&&{x:"x"in e?e.x:e.left,y:"y"in e?e.y:e.top}}function mn(e,t,n){e.left&&(t.left+=n.x),e.right&&(t.right+=n.x),e.top&&(t.top+=n.y),e.bottom&&(t.bottom+=n.y),t.width=t.right-t.left,t.height=t.bottom-t.top}function ce(e,t,n){const i=e.options[n],s=i&&i.origin||e.options.origin,r=pn(s,e,t,[e&&t]);return hn(r)||{x:0,y:0}}var _t=(e,t)=>Math.sqrt(e*e+t*t);class yt{constructor(t){this.type=void 0,this.target=void 0,this.currentTarget=void 0,this.interactable=void 0,this._interaction=void 0,this.timeStamp=void 0,this.immediatePropagationStopped=!1,this.propagationStopped=!1,this._interaction=t}preventDefault(){}stopPropagation(){this.propagationStopped=!0}stopImmediatePropagation(){this.immediatePropagationStopped=this.propagationStopped=!0}}Object.defineProperty(yt.prototype,"interaction",{get(){return this._interaction._proxy},set(){}});const ae={base:{preventDefault:"auto",deltaSource:"page"},perAction:{enabled:!1,origin:{x:0,y:0}},actions:{}};class bt extends yt{constructor(t,n,i,o,s,r,a){super(t);this.target=void 0,this.currentTarget=void 0,this.relatedTarget=null,this.screenX=void 0,this.screenY=void 0,this.button=void 0,this.buttons=void 0,this.ctrlKey=void 0,this.shiftKey=void 0,this.altKey=void 0,this.metaKey=void 0,this.page=void 0,this.client=void 0,this.delta=void 0,this.rect=void 0,this.x0=void 0,this.y0=void 0,this.t0=void 0,this.dt=void 0,this.duration=void 0,this.clientX0=void 0,this.clientY0=void 0,this.velocity=void 0,this.speed=void 0,this.swipe=void 0,this.timeStamp=void 0,this.axes=void 0,this.preEnd=void 0,s=s||t.element;const c=t.interactable,l=(c&&c.options||ae).deltaSource,d=ce(c,s,i),f=o==="start",p=o==="end",h=f?this:t.prevEvent,m=f?t.coords.start:p?{page:h.page,client:h.client,timeStamp:t.coords.cur.timeStamp}:t.coords.cur;this.page=x({},m.page),this.client=x({},m.client),this.rect=x({},t.rect),this.timeStamp=m.timeStamp,p||(this.page.x-=d.x,this.page.y-=d.y,this.client.x-=d.x,this.client.y-=d.y),this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.button=n.button,this.buttons=n.buttons,this.target=s,this.currentTarget=s,this.preEnd=r,this.type=a||i+(o||""),this.interactable=c,this.t0=f?t.pointers[t.pointers.length-1].downTime:h.t0,this.x0=t.coords.start.page.x-d.x,this.y0=t.coords.start.page.y-d.y,this.clientX0=t.coords.start.client.x-d.x,this.clientY0=t.coords.start.client.y-d.y,f||p?this.delta={x:0,y:0}:this.delta={x:this[l].x-h[l].x,y:this[l].y-h[l].y},this.dt=t.coords.delta.timeStamp,this.duration=this.timeStamp-this.t0,this.velocity=x({},t.coords.velocity[l]),this.speed=_t(this.velocity.x,this.velocity.y),this.swipe=p||o==="inertiastart"?this.getSwipe():null}getSwipe(){const t=this._interaction;if(t.prevEvent.speed<600||this.timeStamp-t.prevEvent.timeStamp>150)return null;let n=180*Math.atan2(t.prevEvent.velocityY,t.prevEvent.velocityX)/Math.PI;const i=22.5;n<0&&(n+=360);const o=135-i<=n&&n<225+i,s=225-i<=n&&n<315+i,r=!o&&(315-i<=n||n<45+i),a=!s&&45-i<=n&&n<135+i;return{up:s,down:a,left:o,right:r,angle:n,speed:t.prevEvent.speed,velocity:{x:t.prevEvent.velocityX,y:t.prevEvent.velocityY}}}preventDefault(){}stopImmediatePropagation(){this.immediatePropagationStopped=this.propagationStopped=!0}stopPropagation(){this.propagationStopped=!0}}Object.defineProperties(bt.prototype,{pageX:{get(){return this.page.x},set(e){this.page.x=e}},pageY:{get(){return this.page.y},set(e){this.page.y=e}},clientX:{get(){return this.client.x},set(e){this.client.x=e}},clientY:{get(){return this.client.y},set(e){this.client.y=e}},dx:{get(){return this.delta.x},set(e){this.delta.x=e}},dy:{get(){return this.delta.y},set(e){this.delta.y=e}},velocityX:{get(){return this.velocity.x},set(e){this.velocity.x=e}},velocityY:{get(){return this.velocity.y},set(e){this.velocity.y=e}}});function wt(e,t){let n=!1;return function(){return n||(R.console.warn(t),n=!0),e.apply(this,arguments)}}function gn(e,t){return e.name=t.name,e.axis=t.axis,e.edges=t.edges,e}function nt(e,t){for(const n in t){const i=nt.prefixedPropREs;let o=!1;for(const s in i)if(n.indexOf(s)===0&&i[s].test(n)){o=!0;break}!o&&typeof t[n]!="function"&&(e[n]=t[n])}return e}nt.prefixedPropREs={webkit:/(Movement[XY]|Radius[XY]|RotationAngle|Force)$/,moz:/(Pressure)$/};function zt(e,t){e.page=e.page||{},e.page.x=t.page.x,e.page.y=t.page.y,e.client=e.client||{},e.client.x=t.client.x,e.client.y=t.client.y,e.timeStamp=t.timeStamp}function vn(e,t,n){e.page.x=n.page.x-t.page.x,e.page.y=n.page.y-t.page.y,e.client.x=n.client.x-t.client.x,e.client.y=n.client.y-t.client.y,e.timeStamp=n.timeStamp-t.timeStamp}function xn(e,t){const n=Math.max(t.timeStamp/1e3,.001);e.page.x=t.page.x/n,e.page.y=t.page.y/n,e.client.x=t.client.x/n,e.client.y=t.client.y/n,e.timeStamp=n}function _n(e){e.page.x=0,e.page.y=0,e.client.x=0,e.client.y=0}function le(e){return e instanceof b.Event||e instanceof b.Touch}function it(e,t,n){return n=n||{},e=e||"page",n.x=t[e+"X"],n.y=t[e+"Y"],n}function ue(e,t){return t=t||{x:0,y:0},E.isOperaMobile&&le(e)?(it("screen",e,t),t.x+=window.scrollX,t.y+=window.scrollY):it("page",e,t),t}function yn(e,t){return t=t||{},E.isOperaMobile&&le(e)?it("screen",e,t):it("client",e,t),t}function ot(e){return u.number(e.pointerId)?e.pointerId:e.identifier}function bn(e,t,n){const i=t.length>1?fe(t):t[0];ue(i,e.page),yn(i,e.client),e.timeStamp=n}function Pt(e){const t=[];return u.array(e)?(t[0]=e[0],t[1]=e[1]):e.type==="touchend"?e.touches.length===1?(t[0]=e.touches[0],t[1]=e.changedTouches[0]):e.touches.length===0&&(t[0]=e.changedTouches[0],t[1]=e.changedTouches[1]):(t[0]=e.touches[0],t[1]=e.touches[1]),t}function fe(e){const t={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0};for(const n of e)for(const i in t)t[i]+=n[i];for(const n in t)t[n]/=e.length;return t}function St(e){if(!e.length)return null;const t=Pt(e),n=Math.min(t[0].pageX,t[1].pageX),i=Math.min(t[0].pageY,t[1].pageY),o=Math.max(t[0].pageX,t[1].pageX),s=Math.max(t[0].pageY,t[1].pageY);return{x:n,y:i,left:n,top:i,right:o,bottom:s,width:o-n,height:s-i}}function Et(e,t){const n=t+"X",i=t+"Y",o=Pt(e),s=o[0][n]-o[1][n],r=o[0][i]-o[1][i];return _t(s,r)}function Tt(e,t){const n=t+"X",i=t+"Y",o=Pt(e),s=o[1][n]-o[0][n],r=o[1][i]-o[0][i];return 180*Math.atan2(r,s)/Math.PI}function wn(e){return u.string(e.pointerType)?e.pointerType:u.number(e.pointerType)?[void 0,void 0,"touch","pen","mouse"][e.pointerType]:/touch/.test(e.type||"")||e instanceof b.Touch?"touch":"mouse"}function de(e){const t=u.func(e.composedPath)?e.composedPath():e.path;return[oe(t?t[0]:e.target),oe(e.currentTarget)]}function K(){return{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0}}function It(e,t){if(t.phaselessTypes[e])return!0;for(const n in t.map)if(e.indexOf(n)===0&&e.substr(n.length)in t.phases)return!0;return!1}function zn(e){const t=(n,i)=>{let o=e.interactables.get(n,i);return o||(o=e.interactables.new(n,i),o.events.global=t.globalEvents),o};return t.getPointerAverage=fe,t.getTouchBBox=St,t.getTouchDistance=Et,t.getTouchAngle=Tt,t.getElementRect=xt,t.getElementClientRect=se,t.matchesSelector=O,t.closest=ne,t.globalEvents={},t.version="1.10.11",t.scope=e,t.use=function(n,i){return this.scope.usePlugin(n,i),this},t.isSet=function(n,i){return!!this.scope.interactables.get(n,i&&i.context)},t.on=wt(function(i,o,s){if(u.string(i)&&i.search(" ")!==-1&&(i=i.trim().split(/ +/)),u.array(i)){for(const r of i)this.on(r,o,s);return this}if(u.object(i)){for(const r in i)this.on(r,i[r],o);return this}return It(i,this.scope.actions)?this.globalEvents[i]?this.globalEvents[i].push(o):this.globalEvents[i]=[o]:this.scope.events.add(this.scope.document,i,o,{options:s}),this},"The interact.on() method is being deprecated"),t.off=wt(function(i,o,s){if(u.string(i)&&i.search(" ")!==-1&&(i=i.trim().split(/ +/)),u.array(i)){for(const r of i)this.off(r,o,s);return this}if(u.object(i)){for(const r in i)this.off(r,i[r],o);return this}if(It(i,this.scope.actions)){let r;i in this.globalEvents&&(r=this.globalEvents[i].indexOf(o))!==-1&&this.globalEvents[i].splice(r,1)}else this.scope.events.remove(this.scope.document,i,o,s);return this},"The interact.off() method is being deprecated"),t.debug=function(){return this.scope},t.supportsTouch=function(){return E.supportsTouch},t.supportsPointerEvent=function(){return E.supportsPointerEvent},t.stop=function(){for(const n of this.scope.interactions.list)n.stop();return this},t.pointerMoveTolerance=function(n){return u.number(n)?(this.scope.interactions.pointerMoveTolerance=n,this):this.scope.interactions.pointerMoveTolerance},t.addDocument=function(n,i){this.scope.addDocument(n,i)},t.removeDocument=function(n){this.scope.removeDocument(n)},t}class Pn{get _defaults(){return{base:{},perAction:{},actions:{}}}constructor(t,n,i,o){this.options=void 0,this._actions=void 0,this.target=void 0,this.events=new ee,this._context=void 0,this._win=void 0,this._doc=void 0,this._scopeEvents=void 0,this._rectChecker=void 0,this._actions=n.actions,this.target=t,this._context=n.context||i,this._win=$(re(t)?this._context:t),this._doc=this._win.document,this._scopeEvents=o,this.set(n)}setOnEvents(t,n){return u.func(n.onstart)&&this.on(`${t}start`,n.onstart),u.func(n.onmove)&&this.on(`${t}move`,n.onmove),u.func(n.onend)&&this.on(`${t}end`,n.onend),u.func(n.oninertiastart)&&this.on(`${t}inertiastart`,n.oninertiastart),this}updatePerActionListeners(t,n,i){(u.array(n)||u.object(n))&&this.off(t,n),(u.array(i)||u.object(i))&&this.on(t,i)}setPerAction(t,n){const i=this._defaults;for(const o in n){const s=o,r=this.options[t],a=n[s];s==="listeners"&&this.updatePerActionListeners(t,r.listeners,a),u.array(a)?r[s]=Jt(a):u.plainObject(a)?(r[s]=x(r[s]||{},et(a)),u.object(i.perAction[s])&&"enabled"in i.perAction[s]&&(r[s].enabled=a.enabled!==!1)):u.bool(a)&&u.object(i.perAction[s])?r[s].enabled=a:r[s]=a}}getRect(t){return t=t||(u.element(this.target)?this.target:null),u.string(this.target)&&(t=t||this._context.querySelector(this.target)),xt(t)}rectChecker(t){return u.func(t)?(this._rectChecker=t,this.getRect=n=>{const i=x({},this._rectChecker(n));return"width"in i||(i.width=i.right-i.left,i.height=i.bottom-i.top),i},this):t===null?(delete this.getRect,delete this._rectChecker,this):this.getRect}_backCompatOption(t,n){if(re(n)||u.object(n)){this.options[t]=n;for(const i in this._actions.map)this.options[i][t]=n;return this}return this.options[t]}origin(t){return this._backCompatOption("origin",t)}deltaSource(t){return t==="page"||t==="client"?(this.options.deltaSource=t,this):this.options.deltaSource}context(){return this._context}inContext(t){return this._context===t.ownerDocument||X(this._context,t)}testIgnoreAllow(t,n,i){return!this.testIgnore(t.ignoreFrom,n,i)&&this.testAllow(t.allowFrom,n,i)}testAllow(t,n,i){return t?u.element(i)?u.string(t)?vt(i,t,n):u.element(t)?X(t,i):!1:!1:!0}testIgnore(t,n,i){return!t||!u.element(i)?!1:u.string(t)?vt(i,t,n):u.element(t)?X(t,i):!1}fire(t){return this.events.fire(t),this}_onOff(t,n,i,o){u.object(n)&&!u.array(n)&&(o=i,i=null);const s=t==="on"?"add":"remove",r=j(n,i);for(let a in r){a==="wheel"&&(a=E.wheelEvent);for(const c of r[a])It(a,this._actions)?this.events[t](a,c):u.string(this.target)?this._scopeEvents[`${s}Delegate`](this.target,this._context,a,c,o):this._scopeEvents[s](this.target,a,c,o)}return this}on(t,n,i){return this._onOff("on",t,n,i)}off(t,n,i){return this._onOff("off",t,n,i)}set(t){const n=this._defaults;u.object(t)||(t={}),this.options=et(n.base);for(const i in this._actions.methodDict){const o=i,s=this._actions.methodDict[o];this.options[o]={},this.setPerAction(o,x(x({},n.perAction),n.actions[o])),this[s](t[o])}for(const i in t)u.func(this[i])&&this[i](t[i]);return this}unset(){if(u.string(this.target))for(const t in this._scopeEvents.delegatedEvents){const n=this._scopeEvents.delegatedEvents[t];for(let i=n.length-1;i>=0;i--){const{selector:o,context:s,listeners:r}=n[i];o===this.target&&s===this._context&&n.splice(i,1);for(let a=r.length-1;a>=0;a--)this._scopeEvents.removeDelegate(this.target,this._context,t,r[a][0],r[a][1])}}else this._scopeEvents.remove(this.target,"all")}}class Sn{constructor(t){this.list=[],this.selectorMap={},this.scope=void 0,this.scope=t,t.addListeners({"interactable:unset":({interactable:n})=>{const{target:i,_context:o}=n,s=u.string(i)?this.selectorMap[i]:i[this.scope.id],r=B(s,a=>a.context===o);s[r]&&(s[r].context=null,s[r].interactable=null),s.splice(r,1)}})}new(t,n){n=x(n||{},{actions:this.scope.actions});const i=new this.scope.Interactable(t,n,this.scope.document,this.scope.events),o={context:i._context,interactable:i};return this.scope.addDocument(i._doc),this.list.push(i),u.string(t)?(this.selectorMap[t]||(this.selectorMap[t]=[]),this.selectorMap[t].push(o)):(i.target[this.scope.id]||Object.defineProperty(t,this.scope.id,{value:[],configurable:!0}),t[this.scope.id].push(o)),this.scope.fire("interactable:new",{target:t,options:n,interactable:i,win:this.scope._win}),i}get(t,n){const i=n&&n.context||this.scope.document,o=u.string(t),s=o?this.selectorMap[t]:t[this.scope.id];if(!s)return null;const r=mt(s,a=>a.context===i&&(o||a.interactable.inContext(t)));return r&&r.interactable}forEachMatch(t,n){for(const i of this.list){let o;if((u.string(i.target)?u.element(t)&&O(t,i.target):t===i.target)&&i.inContext(t)&&(o=n(i)),o!==void 0)return o}}}function En(e){var t;const n=[],i={},o=[],s={add:r,remove:a,addDelegate:c,removeDelegate:l,delegateListener:d,delegateUseCapture:f,delegatedEvents:i,documents:o,targets:n,supportsOptions:!1,supportsPassive:!1};(t=e.document)==null||t.createElement("div").addEventListener("test",null,{get capture(){return s.supportsOptions=!0},get passive(){return s.supportsPassive=!0}}),e.events=s;function r(p,h,m,T){const z=W(T);let _=mt(n,g=>g.eventTarget===p);_||(_={eventTarget:p,events:{}},n.push(_)),_.events[h]||(_.events[h]=[]),p.addEventListener&&!rn(_.events[h],m)&&(p.addEventListener(h,m,s.supportsOptions?z:z.capture),_.events[h].push(m))}function a(p,h,m,T){const z=W(T),_=B(n,y=>y.eventTarget===p),g=n[_];if(!g||!g.events)return;if(h==="all"){for(h in g.events)g.events.hasOwnProperty(h)&&a(p,h,"all");return}let w=!1;const v=g.events[h];if(v){if(m==="all"){for(let y=v.length-1;y>=0;y--)a(p,h,v[y],z);return}else for(let y=0;y<v.length;y++)if(v[y]===m){p.removeEventListener(h,m,s.supportsOptions?z:z.capture),v.splice(y,1),v.length===0&&(delete g.events[h],w=!0);break}}w&&!Object.keys(g.events).length&&n.splice(_,1)}function c(p,h,m,T,z){const _=W(z);if(!i[m]){i[m]=[];for(const v of o)r(v,m,d),r(v,m,f,!0)}const g=i[m];let w=mt(g,v=>v.selector===p&&v.context===h);w||(w={selector:p,context:h,listeners:[]},g.push(w)),w.listeners.push([T,_])}function l(p,h,m,T,z){const _=W(z),g=i[m];let w=!1,v;if(!!g)for(v=g.length-1;v>=0;v--){const y=g[v];if(y.selector===p&&y.context===h){const{listeners:A}=y;for(let Y=A.length-1;Y>=0;Y--){const[rt,{capture:ct,passive:at}]=A[Y];if(rt===T&&ct===_.capture&&at===_.passive){A.splice(Y,1),A.length||(g.splice(v,1),a(h,m,d),a(h,m,f,!0)),w=!0;break}}if(w)break}}}function d(p,h){const m=W(h),T=new Tn(p),z=i[p.type],[_]=de(p);let g=_;for(;u.element(g);){for(let w=0;w<z.length;w++){const v=z[w],{selector:y,context:A}=v;if(O(g,y)&&X(A,_)&&X(A,g)){const{listeners:Y}=v;T.currentTarget=g;for(const[rt,{capture:ct,passive:at}]of Y)ct===m.capture&&at===m.passive&&rt(T)}}g=U(g)}}function f(p){return d.call(this,p,!0)}return s}class Tn{constructor(t){this.currentTarget=void 0,this.originalEvent=void 0,this.type=void 0,this.originalEvent=t,nt(this,t)}preventOriginalDefault(){this.originalEvent.preventDefault()}stopPropagation(){this.originalEvent.stopPropagation()}stopImmediatePropagation(){this.originalEvent.stopImmediatePropagation()}}function W(e){if(!u.object(e))return{capture:!!e,passive:!1};const t=x({},e);return t.capture=!!e.capture,t.passive=!!e.passive,t}var In={id:"events",install:En};class Dn{constructor(t,n,i,o,s){this.id=void 0,this.pointer=void 0,this.event=void 0,this.downTime=void 0,this.downTarget=void 0,this.id=t,this.pointer=n,this.event=i,this.downTime=o,this.downTarget=s}}let Dt;(function(e){e.interactable="",e.element="",e.prepared="",e.pointerIsDown="",e.pointerWasMoved="",e._proxy=""})(Dt||(Dt={}));let Mt;(function(e){e.start="",e.move="",e.end="",e.stop="",e.interacting=""})(Mt||(Mt={}));let Mn=0;class $n{get pointerMoveTolerance(){return 1}constructor({pointerType:t,scopeFire:n}){this.interactable=null,this.element=null,this.rect=void 0,this._rects=void 0,this.edges=void 0,this._scopeFire=void 0,this.prepared={name:null,axis:null,edges:null},this.pointerType=void 0,this.pointers=[],this.downEvent=null,this.downPointer={},this._latestPointer={pointer:null,event:null,eventTarget:null},this.prevEvent=null,this.pointerIsDown=!1,this.pointerWasMoved=!1,this._interacting=!1,this._ending=!1,this._stopped=!0,this._proxy=null,this.simulation=null,this.doMove=wt(function(o){this.move(o)},"The interaction.doMove() method has been renamed to interaction.move()"),this.coords={start:K(),prev:K(),cur:K(),delta:K(),velocity:K()},this._id=Mn++,this._scopeFire=n,this.pointerType=t;const i=this;this._proxy={};for(const o in Dt)Object.defineProperty(this._proxy,o,{get(){return i[o]}});for(const o in Mt)Object.defineProperty(this._proxy,o,{value:(...s)=>i[o](...s)});this._scopeFire("interactions:new",{interaction:this})}pointerDown(t,n,i){const o=this.updatePointer(t,n,i,!0),s=this.pointers[o];this._scopeFire("interactions:down",{pointer:t,event:n,eventTarget:i,pointerIndex:o,pointerInfo:s,type:"down",interaction:this})}start(t,n,i){return this.interacting()||!this.pointerIsDown||this.pointers.length<(t.name==="gesture"?2:1)||!n.options[t.name].enabled?!1:(gn(this.prepared,t),this.interactable=n,this.element=i,this.rect=n.getRect(i),this.edges=this.prepared.edges?x({},this.prepared.edges):{left:!0,right:!0,top:!0,bottom:!0},this._stopped=!1,this._interacting=this._doPhase({interaction:this,event:this.downEvent,phase:"start"})&&!this._stopped,this._interacting)}pointerMove(t,n,i){!this.simulation&&!(this.modification&&this.modification.endResult)&&this.updatePointer(t,n,i,!1);const o=this.coords.cur.page.x===this.coords.prev.page.x&&this.coords.cur.page.y===this.coords.prev.page.y&&this.coords.cur.client.x===this.coords.prev.client.x&&this.coords.cur.client.y===this.coords.prev.client.y;let s,r;this.pointerIsDown&&!this.pointerWasMoved&&(s=this.coords.cur.client.x-this.coords.start.client.x,r=this.coords.cur.client.y-this.coords.start.client.y,this.pointerWasMoved=_t(s,r)>this.pointerMoveTolerance);const a=this.getPointerIndex(t),c={pointer:t,pointerIndex:a,pointerInfo:this.pointers[a],event:n,type:"move",eventTarget:i,dx:s,dy:r,duplicate:o,interaction:this};o||xn(this.coords.velocity,this.coords.delta),this._scopeFire("interactions:move",c),!o&&!this.simulation&&(this.interacting()&&(c.type=null,this.move(c)),this.pointerWasMoved&&zt(this.coords.prev,this.coords.cur))}move(t){(!t||!t.event)&&_n(this.coords.delta),t=x({pointer:this._latestPointer.pointer,event:this._latestPointer.event,eventTarget:this._latestPointer.eventTarget,interaction:this},t||{}),t.phase="move",this._doPhase(t)}pointerUp(t,n,i,o){let s=this.getPointerIndex(t);s===-1&&(s=this.updatePointer(t,n,i,!1));const r=/cancel$/i.test(n.type)?"cancel":"up";this._scopeFire(`interactions:${r}`,{pointer:t,pointerIndex:s,pointerInfo:this.pointers[s],event:n,eventTarget:i,type:r,curEventTarget:o,interaction:this}),this.simulation||this.end(n),this.removePointer(t,n)}documentBlur(t){this.end(t),this._scopeFire("interactions:blur",{event:t,type:"blur",interaction:this})}end(t){this._ending=!0,t=t||this._latestPointer.event;let n;this.interacting()&&(n=this._doPhase({event:t,interaction:this,phase:"end"})),this._ending=!1,n===!0&&this.stop()}currentAction(){return this._interacting?this.prepared.name:null}interacting(){return this._interacting}stop(){this._scopeFire("interactions:stop",{interaction:this}),this.interactable=this.element=null,this._interacting=!1,this._stopped=!0,this.prepared.name=this.prevEvent=null}getPointerIndex(t){const n=ot(t);return this.pointerType==="mouse"||this.pointerType==="pen"?this.pointers.length-1:B(this.pointers,i=>i.id===n)}getPointerInfo(t){return this.pointers[this.getPointerIndex(t)]}updatePointer(t,n,i,o){const s=ot(t);let r=this.getPointerIndex(t),a=this.pointers[r];return o=o===!1?!1:o||/(down|start)$/i.test(n.type),a?a.pointer=t:(a=new Dn(s,t,n,null,null),r=this.pointers.length,this.pointers.push(a)),bn(this.coords.cur,this.pointers.map(c=>c.pointer),this._now()),vn(this.coords.delta,this.coords.prev,this.coords.cur),o&&(this.pointerIsDown=!0,a.downTime=this.coords.cur.timeStamp,a.downTarget=i,nt(this.downPointer,t),this.interacting()||(zt(this.coords.start,this.coords.cur),zt(this.coords.prev,this.coords.cur),this.downEvent=n,this.pointerWasMoved=!1)),this._updateLatestPointer(t,n,i),this._scopeFire("interactions:update-pointer",{pointer:t,event:n,eventTarget:i,down:o,pointerInfo:a,pointerIndex:r,interaction:this}),r}removePointer(t,n){const i=this.getPointerIndex(t);if(i===-1)return;const o=this.pointers[i];this._scopeFire("interactions:remove-pointer",{pointer:t,event:n,eventTarget:null,pointerIndex:i,pointerInfo:o,interaction:this}),this.pointers.splice(i,1),this.pointerIsDown=!1}_updateLatestPointer(t,n,i){this._latestPointer.pointer=t,this._latestPointer.event=n,this._latestPointer.eventTarget=i}destroy(){this._latestPointer.pointer=null,this._latestPointer.event=null,this._latestPointer.eventTarget=null}_createPreparedEvent(t,n,i,o){return new bt(this,t,this.prepared.name,n,this.element,i,o)}_fireEvent(t){this.interactable.fire(t),(!this.prevEvent||t.timeStamp>=this.prevEvent.timeStamp)&&(this.prevEvent=t)}_doPhase(t){const{event:n,phase:i,preEnd:o,type:s}=t,{rect:r}=this;if(r&&i==="move"&&(mn(this.edges,r,this.coords.delta[this.interactable.options.deltaSource]),r.width=r.right-r.left,r.height=r.bottom-r.top),this._scopeFire(`interactions:before-action-${i}`,t)===!1)return!1;const c=t.iEvent=this._createPreparedEvent(n,i,o,s);return this._scopeFire(`interactions:action-${i}`,t),i==="start"&&(this.prevEvent=c),this._fireEvent(c),this._scopeFire(`interactions:after-action-${i}`,t),!0}_now(){return Date.now()}}var On=$n;function An(e){return/^(always|never|auto)$/.test(e)?(this.options.preventDefault=e,this):u.bool(e)?(this.options.preventDefault=e?"always":"never",this):this.options.preventDefault}function kn(e,t,n){const i=e.options.preventDefault;if(i!=="never"){if(i==="always"){n.preventDefault();return}if(t.events.supportsPassive&&/^touch(start|move)$/.test(n.type)){const o=$(n.target).document,s=t.getDocOptions(o);if(!(s&&s.events)||s.events.passive!==!1)return}/^(mouse|pointer|touch)*(down|start)/i.test(n.type)||u.element(n.target)&&O(n.target,"input,select,textarea,[contenteditable=true],[contenteditable=true] *")||n.preventDefault()}}function Rn({interaction:e,event:t}){e.interactable&&e.interactable.checkAndPreventDefault(t)}function Cn(e){const{Interactable:t}=e;t.prototype.preventDefault=An,t.prototype.checkAndPreventDefault=function(n){return kn(this,e,n)},e.interactions.docEvents.push({type:"dragstart",listener(n){for(const i of e.interactions.list)if(i.element&&(i.element===n.target||X(i.element,n.target))){i.interactable.checkAndPreventDefault(n);return}}})}var jn={id:"core/interactablePreventDefault",install:Cn,listeners:["down","move","up","cancel"].reduce((e,t)=>(e[`interactions:${t}`]=Rn,e),{})};const $t={methodOrder:["simulationResume","mouseOrPen","hasPointer","idle"],search(e){for(const t of $t.methodOrder){const n=$t[t](e);if(n)return n}return null},simulationResume({pointerType:e,eventType:t,eventTarget:n,scope:i}){if(!/down|start/i.test(t))return null;for(const o of i.interactions.list){let s=n;if(o.simulation&&o.simulation.allowResume&&o.pointerType===e)for(;s;){if(s===o.element)return o;s=U(s)}}return null},mouseOrPen({pointerId:e,pointerType:t,eventType:n,scope:i}){if(t!=="mouse"&&t!=="pen")return null;let o;for(const s of i.interactions.list)if(s.pointerType===t){if(s.simulation&&!pe(s,e))continue;if(s.interacting())return s;o||(o=s)}if(o)return o;for(const s of i.interactions.list)if(s.pointerType===t&&!(/down/i.test(n)&&s.simulation))return s;return null},hasPointer({pointerId:e,scope:t}){for(const n of t.interactions.list)if(pe(n,e))return n;return null},idle({pointerType:e,scope:t}){for(const n of t.interactions.list){if(n.pointers.length===1){const i=n.interactable;if(i&&!(i.options.gesture&&i.options.gesture.enabled))continue}else if(n.pointers.length>=2)continue;if(!n.interacting()&&e===n.pointerType)return n}return null}};function pe(e,t){return e.pointers.some(({id:n})=>n===t)}var Xn=$t;const he=["pointerDown","pointerMove","pointerUp","updatePointer","removePointer","windowBlur"];function Yn(e){const t={};for(const s of he)t[s]=me(s,e);const n=E.pEventTypes;let i;b.PointerEvent?i=[{type:n.down,listener:o},{type:n.down,listener:t.pointerDown},{type:n.move,listener:t.pointerMove},{type:n.up,listener:t.pointerUp},{type:n.cancel,listener:t.pointerUp}]:i=[{type:"mousedown",listener:t.pointerDown},{type:"mousemove",listener:t.pointerMove},{type:"mouseup",listener:t.pointerUp},{type:"touchstart",listener:o},{type:"touchstart",listener:t.pointerDown},{type:"touchmove",listener:t.pointerMove},{type:"touchend",listener:t.pointerUp},{type:"touchcancel",listener:t.pointerUp}],i.push({type:"blur",listener(s){for(const r of e.interactions.list)r.documentBlur(s)}}),e.prevTouchTime=0,e.Interaction=class extends On{get pointerMoveTolerance(){return e.interactions.pointerMoveTolerance}set pointerMoveTolerance(s){e.interactions.pointerMoveTolerance=s}_now(){return e.now()}},e.interactions={list:[],new(s){s.scopeFire=(a,c)=>e.fire(a,c);const r=new e.Interaction(s);return e.interactions.list.push(r),r},listeners:t,docEvents:i,pointerMoveTolerance:1};function o(){for(const s of e.interactions.list)if(!(!s.pointerIsDown||s.pointerType!=="touch"||s._interacting))for(const r of s.pointers)e.documents.some(({doc:a})=>X(a,r.downTarget))||s.removePointer(r.pointer,r.event)}e.usePlugin(jn)}function me(e,t){return function(n){const i=t.interactions.list,o=wn(n),[s,r]=de(n),a=[];if(/^touch/.test(n.type)){t.prevTouchTime=t.now();for(const c of n.changedTouches){const l=c,d=ot(l),f={pointer:l,pointerId:d,pointerType:o,eventType:n.type,eventTarget:s,curEventTarget:r,scope:t},p=ge(f);a.push([f.pointer,f.eventTarget,f.curEventTarget,p])}}else{let c=!1;if(!E.supportsPointerEvent&&/mouse/.test(n.type)){for(let l=0;l<i.length&&!c;l++)c=i[l].pointerType!=="mouse"&&i[l].pointerIsDown;c=c||t.now()-t.prevTouchTime<500||n.timeStamp===0}if(!c){const l={pointer:n,pointerId:ot(n),pointerType:o,eventType:n.type,curEventTarget:r,eventTarget:s,scope:t},d=ge(l);a.push([l.pointer,l.eventTarget,l.curEventTarget,d])}}for(const[c,l,d,f]of a)f[e](c,n,l,d)}}function ge(e){const{pointerType:t,scope:n}=e,o={interaction:Xn.search(e),searchDetails:e};return n.fire("interactions:find",o),o.interaction||n.interactions.new({pointerType:t})}function Ot({doc:e,scope:t,options:n},i){const{interactions:{docEvents:o},events:s}=t,r=s[i];t.browser.isIOS&&!n.events&&(n.events={passive:!1});for(const c in s.delegatedEvents)r(e,c,s.delegateListener),r(e,c,s.delegateUseCapture,!0);const a=n&&n.events;for(const{type:c,listener:l}of o)r(e,c,l,a)}const Nn={id:"core/interactions",install:Yn,listeners:{"scope:add-document":e=>Ot(e,"add"),"scope:remove-document":e=>Ot(e,"remove"),"interactable:unset":({interactable:e},t)=>{for(let n=t.interactions.list.length-1;n>=0;n--){const i=t.interactions.list[n];i.interactable===e&&(i.stop(),t.fire("interactions:destroy",{interaction:i}),i.destroy(),t.interactions.list.length>2&&t.interactions.list.splice(n,1))}}},onDocSignal:Ot,doOnInteractions:me,methodNames:he};var Ln=Nn;class Fn{constructor(){this.id=`__interact_scope_${Math.floor(Math.random()*100)}`,this.isInitialized=!1,this.listenerMaps=[],this.browser=E,this.defaults=et(ae),this.Eventable=ee,this.actions={map:{},phases:{start:!0,move:!0,end:!0},methodDict:{},phaselessTypes:{}},this.interactStatic=zn(this),this.InteractEvent=bt,this.Interactable=void 0,this.interactables=new Sn(this),this._win=void 0,this.document=void 0,this.window=void 0,this.documents=[],this._plugins={list:[],map:{}},this.onWindowUnload=n=>this.removeDocument(n.target);const t=this;this.Interactable=class extends Pn{get _defaults(){return t.defaults}set(n){return super.set(n),t.fire("interactable:set",{options:n,interactable:this}),this}unset(){super.unset(),t.interactables.list.splice(t.interactables.list.indexOf(this),1),t.fire("interactable:unset",{interactable:this})}}}addListeners(t,n){this.listenerMaps.push({id:n,map:t})}fire(t,n){for(const{map:{[t]:i}}of this.listenerMaps)if(!!i&&i(n,this,t)===!1)return!1}init(t){return this.isInitialized?this:qn(this,t)}pluginIsInstalled(t){return this._plugins.map[t.id]||this._plugins.list.indexOf(t)!==-1}usePlugin(t,n){if(!this.isInitialized)return this;if(this.pluginIsInstalled(t))return this;if(t.id&&(this._plugins.map[t.id]=t),this._plugins.list.push(t),t.install&&t.install(this,n),t.listeners&&t.before){let i=0;const o=this.listenerMaps.length,s=t.before.reduce((r,a)=>(r[a]=!0,r[ve(a)]=!0,r),{});for(;i<o;i++){const r=this.listenerMaps[i].id;if(s[r]||s[ve(r)])break}this.listenerMaps.splice(i,0,{id:t.id,map:t.listeners})}else t.listeners&&this.listenerMaps.push({id:t.id,map:t.listeners});return this}addDocument(t,n){if(this.getDocIndex(t)!==-1)return!1;const i=$(t);n=n?x({},n):{},this.documents.push({doc:t,options:n}),this.events.documents.push(t),t!==this.document&&this.events.add(i,"unload",this.onWindowUnload),this.fire("scope:add-document",{doc:t,window:i,scope:this,options:n})}removeDocument(t){const n=this.getDocIndex(t),i=$(t),o=this.documents[n].options;this.events.remove(i,"unload",this.onWindowUnload),this.documents.splice(n,1),this.events.documents.splice(n,1),this.fire("scope:remove-document",{doc:t,window:i,scope:this,options:o})}getDocIndex(t){for(let n=0;n<this.documents.length;n++)if(this.documents[n].doc===t)return n;return-1}getDocOptions(t){const n=this.getDocIndex(t);return n===-1?null:this.documents[n].options}now(){return(this.window.Date||Date).now()}}function qn(e,t){return e.isInitialized=!0,u.window(t)&&Wt(t),b.init(t),E.init(t),an.init(t),e.window=t,e.document=t.document,e.usePlugin(Ln),e.usePlugin(In),e}function ve(e){return e&&e.replace(/\/.*$/,"")}const xe=new Fn,Gn=xe.interactStatic;var Bn=Gn;const Un=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:void 0;xe.init(Un);function Kn(e){const{actions:t,Interactable:n,defaults:i}=e;n.prototype.draggable=st.draggable,t.map.drag=st,t.methodDict.drag="draggable",i.actions.drag=st.defaults}function At({interaction:e}){if(e.prepared.name!=="drag")return;const t=e.prepared.axis;t==="x"?(e.coords.cur.page.y=e.coords.start.page.y,e.coords.cur.client.y=e.coords.start.client.y,e.coords.velocity.client.y=0,e.coords.velocity.page.y=0):t==="y"&&(e.coords.cur.page.x=e.coords.start.page.x,e.coords.cur.client.x=e.coords.start.client.x,e.coords.velocity.client.x=0,e.coords.velocity.page.x=0)}function _e({iEvent:e,interaction:t}){if(t.prepared.name!=="drag")return;const n=t.prepared.axis;if(n==="x"||n==="y"){const i=n==="x"?"y":"x";e.page[i]=t.coords.start.page[i],e.client[i]=t.coords.start.client[i],e.delta[i]=0}}const Wn=function(t){return u.object(t)?(this.options.drag.enabled=t.enabled!==!1,this.setPerAction("drag",t),this.setOnEvents("drag",t),/^(xy|x|y|start)$/.test(t.lockAxis)&&(this.options.drag.lockAxis=t.lockAxis),/^(xy|x|y)$/.test(t.startAxis)&&(this.options.drag.startAxis=t.startAxis),this):u.bool(t)?(this.options.drag.enabled=t,this):this.options.drag},st={id:"actions/drag",install:Kn,listeners:{"interactions:before-action-move":At,"interactions:action-resume":At,"interactions:action-move":_e,"auto-start:check":e=>{const{interaction:t,interactable:n,buttons:i}=e,o=n.options.drag;if(!(!(o&&o.enabled)||t.pointerIsDown&&/mouse|pointer/.test(t.pointerType)&&(i&n.options.drag.mouseButtons)==0))return e.action={name:"drag",axis:o.lockAxis==="start"?o.startAxis:o.lockAxis},!1}},draggable:Wn,beforeMove:At,move:_e,defaults:{startAxis:"xy",lockAxis:"xy"},getCursor(){return"move"}};var ye=st;class D extends yt{constructor(t,n,i){super(n._interaction);this.target=void 0,this.dropzone=void 0,this.dragEvent=void 0,this.relatedTarget=void 0,this.draggable=void 0,this.timeStamp=void 0,this.propagationStopped=!1,this.immediatePropagationStopped=!1;const{element:o,dropzone:s}=i==="dragleave"?t.prev:t.cur;this.type=i,this.target=o,this.currentTarget=o,this.dropzone=s,this.dragEvent=n,this.relatedTarget=n.target,this.draggable=n.interactable,this.timeStamp=n.timeStamp}reject(){const{dropState:t}=this._interaction;if(!(this.type!=="dropactivate"&&(!this.dropzone||t.cur.dropzone!==this.dropzone||t.cur.element!==this.target)))if(t.prev.dropzone=this.dropzone,t.prev.element=this.target,t.rejected=!0,t.events.enter=null,this.stopImmediatePropagation(),this.type==="dropactivate"){const n=t.activeDrops,i=B(n,({dropzone:s,element:r})=>s===this.dropzone&&r===this.target);t.activeDrops.splice(i,1);const o=new D(t,this.dragEvent,"dropdeactivate");o.dropzone=this.dropzone,o.target=this.target,this.dropzone.fire(o)}else this.dropzone.fire(new D(t,this.dragEvent,"dragleave"))}preventDefault(){}stopPropagation(){this.propagationStopped=!0}stopImmediatePropagation(){this.immediatePropagationStopped=this.propagationStopped=!0}}function Vn(e){const{actions:t,interactStatic:n,Interactable:i,defaults:o}=e;e.usePlugin(ye),i.prototype.dropzone=function(s){return Jn(this,s)},i.prototype.dropCheck=function(s,r,a,c,l,d){return Zn(this,s,r,a,c,l,d)},n.dynamicDrop=function(s){return u.bool(s)?(e.dynamicDrop=s,n):e.dynamicDrop},x(t.phaselessTypes,{dragenter:!0,dragleave:!0,dropactivate:!0,dropdeactivate:!0,dropmove:!0,drop:!0}),t.methodDict.drop="dropzone",e.dynamicDrop=!1,o.actions.drop=Pe.defaults}function Hn({interactables:e},t){const n=[];for(const i of e.list){if(!i.options.drop.enabled)continue;const o=i.options.drop.accept;if(u.element(o)&&o!==t||u.string(o)&&!O(t,o)||u.func(o)&&!o({dropzone:i,draggableElement:t}))continue;const s=u.string(i.target)?i._context.querySelectorAll(i.target):u.array(i.target)?i.target:[i.target];for(const r of s)r!==t&&n.push({dropzone:i,element:r,rect:i.getRect(r)})}return n}function be(e,t){for(const{dropzone:n,element:i}of e.slice())t.dropzone=n,t.target=i,n.fire(t),t.propagationStopped=t.immediatePropagationStopped=!1}function kt(e,t){const n=Hn(e,t);for(const i of n)i.rect=i.dropzone.getRect(i.element);return n}function we({dropState:e,interactable:t,element:n},i,o){const s=[];for(const{dropzone:a,element:c,rect:l}of e.activeDrops)s.push(a.dropCheck(i,o,t,n,c,l)?c:null);const r=ln(s);return e.activeDrops[r]||null}function Rt(e,t,n){const{dropState:i}=e,o={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};return n.type==="dragstart"&&(o.activate=new D(i,n,"dropactivate"),o.activate.target=null,o.activate.dropzone=null),n.type==="dragend"&&(o.deactivate=new D(i,n,"dropdeactivate"),o.deactivate.target=null,o.deactivate.dropzone=null),i.rejected||(i.cur.element!==i.prev.element&&(i.prev.dropzone&&(o.leave=new D(i,n,"dragleave"),n.dragLeave=o.leave.target=i.prev.element,n.prevDropzone=o.leave.dropzone=i.prev.dropzone),i.cur.dropzone&&(o.enter=new D(i,n,"dragenter"),n.dragEnter=i.cur.element,n.dropzone=i.cur.dropzone)),n.type==="dragend"&&i.cur.dropzone&&(o.drop=new D(i,n,"drop"),n.dropzone=i.cur.dropzone,n.relatedTarget=i.cur.element),n.type==="dragmove"&&i.cur.dropzone&&(o.move=new D(i,n,"dropmove"),o.move.dragmove=n,n.dropzone=i.cur.dropzone)),o}function Ct(e,t){const{dropState:n}=e,{activeDrops:i,cur:o,prev:s}=n;t.leave&&s.dropzone.fire(t.leave),t.enter&&o.dropzone.fire(t.enter),t.move&&o.dropzone.fire(t.move),t.drop&&o.dropzone.fire(t.drop),t.deactivate&&be(i,t.deactivate),n.prev.dropzone=o.dropzone,n.prev.element=o.element}function ze({interaction:e,iEvent:t,event:n},i){if(t.type!=="dragmove"&&t.type!=="dragend")return;const{dropState:o}=e;i.dynamicDrop&&(o.activeDrops=kt(i,e.element));const s=t,r=we(e,s,n);o.rejected=o.rejected&&!!r&&r.dropzone===o.cur.dropzone&&r.element===o.cur.element,o.cur.dropzone=r&&r.dropzone,o.cur.element=r&&r.element,o.events=Rt(e,n,s)}function Jn(e,t){if(u.object(t)){if(e.options.drop.enabled=t.enabled!==!1,t.listeners){const n=j(t.listeners),i=Object.keys(n).reduce((o,s)=>{const r=/^(enter|leave)/.test(s)?`drag${s}`:/^(activate|deactivate|move)/.test(s)?`drop${s}`:s;return o[r]=n[s],o},{});e.off(e.options.drop.listeners),e.on(i),e.options.drop.listeners=i}return u.func(t.ondrop)&&e.on("drop",t.ondrop),u.func(t.ondropactivate)&&e.on("dropactivate",t.ondropactivate),u.func(t.ondropdeactivate)&&e.on("dropdeactivate",t.ondropdeactivate),u.func(t.ondragenter)&&e.on("dragenter",t.ondragenter),u.func(t.ondragleave)&&e.on("dragleave",t.ondragleave),u.func(t.ondropmove)&&e.on("dropmove",t.ondropmove),/^(pointer|center)$/.test(t.overlap)?e.options.drop.overlap=t.overlap:u.number(t.overlap)&&(e.options.drop.overlap=Math.max(Math.min(1,t.overlap),0)),"accept"in t&&(e.options.drop.accept=t.accept),"checker"in t&&(e.options.drop.checker=t.checker),e}return u.bool(t)?(e.options.drop.enabled=t,e):e.options.drop}function Zn(e,t,n,i,o,s,r){let a=!1;if(!(r=r||e.getRect(s)))return e.options.drop.checker?e.options.drop.checker(t,n,a,e,s,i,o):!1;const c=e.options.drop.overlap;if(c==="pointer"){const d=ce(i,o,"drag"),f=ue(t);f.x+=d.x,f.y+=d.y;const p=f.x>r.left&&f.x<r.right,h=f.y>r.top&&f.y<r.bottom;a=p&&h}const l=i.getRect(o);if(l&&c==="center"){const d=l.left+l.width/2,f=l.top+l.height/2;a=d>=r.left&&d<=r.right&&f>=r.top&&f<=r.bottom}return l&&u.number(c)&&(a=Math.max(0,Math.min(r.right,l.right)-Math.max(r.left,l.left))*Math.max(0,Math.min(r.bottom,l.bottom)-Math.max(r.top,l.top))/(l.width*l.height)>=c),e.options.drop.checker&&(a=e.options.drop.checker(t,n,a,e,s,i,o)),a}const Pe={id:"actions/drop",install:Vn,listeners:{"interactions:before-action-start":({interaction:e})=>{e.prepared.name==="drag"&&(e.dropState={cur:{dropzone:null,element:null},prev:{dropzone:null,element:null},rejected:null,events:null,activeDrops:[]})},"interactions:after-action-start":({interaction:e,event:t,iEvent:n},i)=>{if(e.prepared.name!=="drag")return;const{dropState:o}=e;o.activeDrops=null,o.events=null,o.activeDrops=kt(i,e.element),o.events=Rt(e,t,n),o.events.activate&&(be(o.activeDrops,o.events.activate),i.fire("actions/drop:start",{interaction:e,dragEvent:n}))},"interactions:action-move":ze,"interactions:after-action-move":({interaction:e,iEvent:t},n)=>{e.prepared.name==="drag"&&(Ct(e,e.dropState.events),n.fire("actions/drop:move",{interaction:e,dragEvent:t}),e.dropState.events={})},"interactions:action-end":(e,t)=>{if(e.interaction.prepared.name!=="drag")return;const{interaction:n,iEvent:i}=e;ze(e,t),Ct(n,n.dropState.events),t.fire("actions/drop:end",{interaction:n,dragEvent:i})},"interactions:stop":({interaction:e})=>{if(e.prepared.name!=="drag")return;const{dropState:t}=e;t&&(t.activeDrops=null,t.events=null,t.cur.dropzone=null,t.cur.element=null,t.prev.dropzone=null,t.prev.element=null,t.rejected=!1)}},getActiveDrops:kt,getDrop:we,getDropEvents:Rt,fireDropEvents:Ct,defaults:{enabled:!1,accept:null,overlap:"pointer"}};var Qn=Pe;function ti(e){const{actions:t,Interactable:n,defaults:i}=e;n.prototype.gesturable=function(o){return u.object(o)?(this.options.gesture.enabled=o.enabled!==!1,this.setPerAction("gesture",o),this.setOnEvents("gesture",o),this):u.bool(o)?(this.options.gesture.enabled=o,this):this.options.gesture},t.map.gesture=Xt,t.methodDict.gesture="gesturable",i.actions.gesture=Xt.defaults}function jt({interaction:e,iEvent:t,phase:n}){if(e.prepared.name!=="gesture")return;const i=e.pointers.map(a=>a.pointer),o=n==="start",s=n==="end",r=e.interactable.options.deltaSource;if(t.touches=[i[0],i[1]],o)t.distance=Et(i,r),t.box=St(i),t.scale=1,t.ds=0,t.angle=Tt(i,r),t.da=0,e.gesture.startDistance=t.distance,e.gesture.startAngle=t.angle;else if(s){const a=e.prevEvent;t.distance=a.distance,t.box=a.box,t.scale=a.scale,t.ds=0,t.angle=a.angle,t.da=0}else t.distance=Et(i,r),t.box=St(i),t.scale=t.distance/e.gesture.startDistance,t.angle=Tt(i,r),t.ds=t.scale-e.gesture.scale,t.da=t.angle-e.gesture.angle;e.gesture.distance=t.distance,e.gesture.angle=t.angle,u.number(t.scale)&&t.scale!==1/0&&!isNaN(t.scale)&&(e.gesture.scale=t.scale)}const Xt={id:"actions/gesture",before:["actions/drag","actions/resize"],install:ti,listeners:{"interactions:action-start":jt,"interactions:action-move":jt,"interactions:action-end":jt,"interactions:new":({interaction:e})=>{e.gesture={angle:0,distance:0,scale:1,startAngle:0,startDistance:0}},"auto-start:check":e=>{if(e.interaction.pointers.length<2)return;const t=e.interactable.options.gesture;if(!!(t&&t.enabled))return e.action={name:"gesture"},!1}},defaults:{},getCursor(){return""}};var ei=Xt;function ni(e){const{actions:t,browser:n,Interactable:i,defaults:o}=e;M.cursors=ri(n),M.defaultMargin=n.supportsTouch||n.supportsPointerEvent?20:10,i.prototype.resizable=function(s){return oi(this,s,e)},t.map.resize=M,t.methodDict.resize="resizable",o.actions.resize=M.defaults}function ii(e){const{interaction:t,interactable:n,element:i,rect:o,buttons:s}=e;if(!o)return;const r=x({},t.coords.cur.page),a=n.options.resize;if(!(!(a&&a.enabled)||t.pointerIsDown&&/mouse|pointer/.test(t.pointerType)&&(s&a.mouseButtons)==0)){if(u.object(a.edges)){const c={left:!1,right:!1,top:!1,bottom:!1};for(const l in c)c[l]=si(l,a.edges[l],r,t._latestPointer.eventTarget,i,o,a.margin||M.defaultMargin);c.left=c.left&&!c.right,c.top=c.top&&!c.bottom,(c.left||c.right||c.top||c.bottom)&&(e.action={name:"resize",edges:c})}else{const c=a.axis!=="y"&&r.x>o.right-M.defaultMargin,l=a.axis!=="x"&&r.y>o.bottom-M.defaultMargin;(c||l)&&(e.action={name:"resize",axes:(c?"x":"")+(l?"y":"")})}return e.action?!1:void 0}}function oi(e,t,n){return u.object(t)?(e.options.resize.enabled=t.enabled!==!1,e.setPerAction("resize",t),e.setOnEvents("resize",t),u.string(t.axis)&&/^x$|^y$|^xy$/.test(t.axis)?e.options.resize.axis=t.axis:t.axis===null&&(e.options.resize.axis=n.defaults.actions.resize.axis),u.bool(t.preserveAspectRatio)?e.options.resize.preserveAspectRatio=t.preserveAspectRatio:u.bool(t.square)&&(e.options.resize.square=t.square),e):u.bool(t)?(e.options.resize.enabled=t,e):e.options.resize}function si(e,t,n,i,o,s,r){if(!t)return!1;if(t===!0){const a=u.number(s.width)?s.width:s.right-s.left,c=u.number(s.height)?s.height:s.bottom-s.top;if(r=Math.min(r,Math.abs((e==="left"||e==="right"?a:c)/2)),a<0&&(e==="left"?e="right":e==="right"&&(e="left")),c<0&&(e==="top"?e="bottom":e==="bottom"&&(e="top")),e==="left")return n.x<(a>=0?s.left:s.right)+r;if(e==="top")return n.y<(c>=0?s.top:s.bottom)+r;if(e==="right")return n.x>(a>=0?s.right:s.left)-r;if(e==="bottom")return n.y>(c>=0?s.bottom:s.top)-r}return u.element(i)?u.element(t)?t===i:vt(i,t,o):!1}function ri(e){return e.isIe9?{x:"e-resize",y:"s-resize",xy:"se-resize",top:"n-resize",left:"w-resize",bottom:"s-resize",right:"e-resize",topleft:"se-resize",bottomright:"se-resize",topright:"ne-resize",bottomleft:"ne-resize"}:{x:"ew-resize",y:"ns-resize",xy:"nwse-resize",top:"ns-resize",left:"ew-resize",bottom:"ns-resize",right:"ew-resize",topleft:"nwse-resize",bottomright:"nwse-resize",topright:"nesw-resize",bottomleft:"nesw-resize"}}function ci({iEvent:e,interaction:t}){if(t.prepared.name!=="resize"||!t.prepared.edges)return;const n=e,i=t.rect;t._rects={start:x({},i),corrected:x({},i),previous:x({},i),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},n.edges=t.prepared.edges,n.rect=t._rects.corrected,n.deltaRect=t._rects.delta}function ai({iEvent:e,interaction:t}){if(t.prepared.name!=="resize"||!t.prepared.edges)return;const n=e,o=t.interactable.options.resize.invert,s=o==="reposition"||o==="negate",r=t.rect,{start:a,corrected:c,delta:l,previous:d}=t._rects;if(x(d,c),s){if(x(c,r),o==="reposition"){if(c.top>c.bottom){const f=c.top;c.top=c.bottom,c.bottom=f}if(c.left>c.right){const f=c.left;c.left=c.right,c.right=f}}}else c.top=Math.min(r.top,a.bottom),c.bottom=Math.max(r.bottom,a.top),c.left=Math.min(r.left,a.right),c.right=Math.max(r.right,a.left);c.width=c.right-c.left,c.height=c.bottom-c.top;for(const f in c)l[f]=c[f]-d[f];n.edges=t.prepared.edges,n.rect=c,n.deltaRect=l}function li({iEvent:e,interaction:t}){if(t.prepared.name!=="resize"||!t.prepared.edges)return;const n=e;n.edges=t.prepared.edges,n.rect=t._rects.corrected,n.deltaRect=t._rects.delta}function Se({iEvent:e,interaction:t}){if(t.prepared.name!=="resize"||!t.resizeAxes)return;const n=t.interactable.options,i=e;n.resize.square?(t.resizeAxes==="y"?i.delta.x=i.delta.y:i.delta.y=i.delta.x,i.axes="xy"):(i.axes=t.resizeAxes,t.resizeAxes==="x"?i.delta.y=0:t.resizeAxes==="y"&&(i.delta.x=0))}const M={id:"actions/resize",before:["actions/drag"],install:ni,listeners:{"interactions:new":({interaction:e})=>{e.resizeAxes="xy"},"interactions:action-start":e=>{ci(e),Se(e)},"interactions:action-move":e=>{ai(e),Se(e)},"interactions:action-end":li,"auto-start:check":ii},defaults:{square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},cursors:null,getCursor({edges:e,axis:t,name:n}){const i=M.cursors;let o=null;if(t)o=i[n+t];else if(e){let s="";for(const r of["top","bottom","left","right"])e[r]&&(s+=r);o=i[s]}return o},defaultMargin:null};var ui=M,fi={id:"actions",install(e){e.usePlugin(ei),e.usePlugin(ui),e.usePlugin(ye),e.usePlugin(Qn)}};Bn.use(fi);export{Ii as A,Ee as B,Ni as C,hi as D,gi as E,vi as F,mi as G,Re as H,N as I,pi as J,Ie as K,Ti as L,bi as M,wi as N,q as O,qt as P,Yi as S,Xe as a,zi as b,Pi as c,Ce as d,je as e,xi as f,Le as g,Ci as h,Xi as i,_i as j,yi as k,ji as l,Si as m,di as n,Ue as o,ki as p,Ri as q,$i as r,Ei as s,lt as t,Ai as u,Ke as v,Oi as w,Be as x,Mi as y,Di as z};
